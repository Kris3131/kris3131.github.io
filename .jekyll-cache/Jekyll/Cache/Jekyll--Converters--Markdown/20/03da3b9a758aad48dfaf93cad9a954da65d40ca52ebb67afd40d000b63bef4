I"T<h3 id="switch-sqlite3-to-postgresql">Switch SQLite3 to PostgreSQL</h3>

<h2 id="database">Database</h2>

<p>databaseæ˜¯è³‡æ–™åº«ï¼Œç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ï¼Ÿå› ç‚º client - server  äº’å‹•éœ€è¦è³‡æ–™å‚³è¼¸ï¼Œ client å‚³é€è³‡æ–™çµ¦ server ï¼Œ server å‘ client é¡¯ç¤ºè³‡æ–™ï¼Œæˆ–æ˜¯å„²å­˜ client å‚³é€çš„è³‡æ–™ã€‚æ‰€ä»¥éœ€è¦ database å„²å­˜è³‡æ–™ã€‚</p>

<p>å‡å¦‚æ‰€æœ‰è³‡æ–™é€šé€šæ”¾åœ¨ä¸€èµ·ï¼Œæ²’æœ‰ä¸€å€‹ç³»çµ±æ€§çš„æ•´ç†ï¼Œæœƒè®Šå¾—å¾ˆå¯æ€•ã€‚æ‰€ä»¥æˆ‘å€‘å¯ä»¥åˆ©ç”¨è¡¨æ ¼çš„æ–¹å¼æ•´ç†æ•£äº‚çš„è³‡æ–™ï¼Œtable æ˜¯è³‡æ–™è¡¨æ ¼ï¼Œfields column æ˜¯â€æ¬„â€ ï¼Œrecord row æ˜¯è³‡æ–™â€åˆ—â€ï¼Œè¦–è¦ºå‘ˆç¾æœƒæ˜¯é€™æ¨£</p>

<p><img src="/assets/post_img/sql-table-column-row.png" alt="table" title="table-column-row" /></p>

<h2 id="dbms">DBMS</h2>

<p>database management system ç®¡ç†è³‡æ–™åº«çš„ç³»çµ±ã€‚MySQL / PostgreSQL</p>

<h2 id="sql">SQL</h2>

<p>æ“ä½œè³‡æ–™åº«çš„èªè¨€:SQL (Structured Query language)</p>

<h2 id="å¯¦ä½œ">å¯¦ä½œ</h2>

<p>Rails é è¨­ä½¿ç”¨ SQLite3 ä½œç‚ºè³‡æ–™åº«ï¼Œä¸»è¦æ˜¯åœ¨é–‹ç™¼ï¼Œæ¸¬è©¦ç’°å¢ƒä¸Šï¼ŒSQLite3 æ˜¯ä¸€å€‹è¼•é‡å‹çš„è³‡æ–™åº«é¡å‹ï¼Œä½†åˆ°æ­£å¼ç”¢å“ä¸Šç·šï¼ŒSQLite3 å¯èƒ½æœƒä¸å¤ ç”¨ã€‚</p>

<h1 id="å®‰è£postgresql">å®‰è£PostgreSQL</h1>

<p><code class="language-plaintext highlighter-rouge">brew install postgresql</code></p>

<p>ä½¿ç”¨ homebrew å®‰è£ä¸€éµæå®š</p>

<p><strong>å•Ÿå‹• PostgreSQL</strong></p>

<p><code class="language-plaintext highlighter-rouge">brew services start postgresql</code></p>

<h1 id="ç”¨postgresql-å»ºç«‹å°ˆæ¡ˆ">ç”¨PostgreSQL å»ºç«‹å°ˆæ¡ˆ</h1>

<p><code class="language-plaintext highlighter-rouge">rails new myapp --database=postgresql</code></p>

<p>æ„æ€æ˜¯ï¼šç”¨ rails ç›´æ¥ new ä¸€å€‹æ–°çš„å°ˆæ¡ˆï¼Œdatabase ä½¿ç”¨ postgresqlï¼Œ
é€™æ¨£å°±æ˜¯ä¸€å€‹é è¨­çš„ Postgresql database ç‹€æ…‹ï¼Œ</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="na">default</span><span class="pi">:</span> <span class="nl">&amp;default</span>
    <span class="na">adapter</span><span class="pi">:</span> <span class="s">postgresql</span>
    <span class="na">encoding</span><span class="pi">:</span> <span class="s">unicode</span>
    <span class="na">pool</span><span class="pi">:</span> <span class="s">&lt;%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %&gt;</span>
<span class="na">development</span><span class="pi">:</span>
    <span class="na">&lt;&lt;</span><span class="pi">:</span> <span class="nv">*default</span>
    <span class="na">database</span><span class="pi">:</span> <span class="s">myapp_development</span>
<span class="na">test</span><span class="pi">:</span>
    <span class="na">&lt;&lt;</span><span class="pi">:</span> <span class="nv">*default</span>
    <span class="na">database</span><span class="pi">:</span> <span class="s">myapp_test</span>
<span class="na">production</span><span class="pi">:</span>
    <span class="na">&lt;&lt;</span><span class="pi">:</span> <span class="nv">*default</span>
    <span class="na">database</span><span class="pi">:</span> <span class="s">myapp_production</span>
    <span class="na">username</span><span class="pi">:</span> <span class="s">myapp</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s">&lt;%= ENV['MYAPP_DATABASE_PASSWORD'] %&gt;</span></code></pre></figure>

<p>æœ€å¾Œï¼Œåœ¨ç”¨<code class="language-plaintext highlighter-rouge">rails db:create</code>çš„æŒ‡ä»¤è®“ rails å’Œè³‡æ–™åº«åšé€£çµï¼Œ</p>

<p><img src="/assets/post_img/postgresql-database-create-success.png" alt="database_create" title="database_create" /></p>

<h1 id="æ‰‹è³¤ä¸€é»åŸæœ¬æ˜¯-sqlite3-è½‰åˆ°-postgresql">æ‰‹è³¤ä¸€é»ï¼ŒåŸæœ¬æ˜¯ SQLite3 è½‰åˆ° PostgreSQL</h1>

:ET